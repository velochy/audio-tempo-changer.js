(function(){'use strict';var ma=window;
function sa(){return function(S){function y(a){if(L[a])return L[a].g;var n=L[a]={M:a,C:!1,g:{}};S[a].call(n.g,n,n.g,y);n.C=!0;return n.g}var L={};y.O=S;y.J=L;y.m=function(a,n,g){y.B(a,n)||Object.defineProperty(a,n,{enumerable:!0,get:g})};y.A=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"});Object.defineProperty(a,"__esModule",{value:!0})};y.N=function(a,n){n&1&&(a=y(a));if(n&8)return a;if(n&4&&"object"===typeof a&&a&&a.w)return a;
var g=Object.create(null);y.A(g);Object.defineProperty(g,"default",{enumerable:!0,value:a});if(n&2&&"string"!=typeof a)for(var f in a)y.m(g,f,function(E){return a[E]}.bind(null,f));return g};y.K=function(a){var n=a&&a.w?function(){return a["default"]}:function(){return a};y.m(n,"a",n);return n};y.B=function(a,n){return Object.prototype.hasOwnProperty.call(a,n)};y.L="";return y(y.P=1)}([function(S){S.g={a:function(y){return new Float32Array(y)},f:function(y,L,a,n,g){a.set(y.subarray(L,L+g),n)}}},function(S,
y,L){(function(){var a=L(0),n=L(2);S.g=function(g){function f(c,e,p,h,D,C){var I=c%2;h=1-I;D=M[h];for(var z=Q[h],b=ea[h],v=T[h],ba=fa[h],A=M[I],r=1;r<A.length;r++)A[r]=e[r]*e[r]+p[r]*p[r];h=ea[I];r=Q;for(var u=0,t=0;t<A.length;t++)A[t]>u&&(u=A[t]);u=1E-8*u;var J=1,ca=1;h[0]=1;for(t=2;t<A.length;t++){var G=t*F;if(A[t]>u&&A[t]>A[t-1]&&A[t]>=A[t+1]){var ha=t+(A[t-1]-A[t+1])/(2*(A[t-1]-2*A[t]+A[t+1]));ha-h[J-1]>G?(h[J++]=ha,ca=t):A[t]>A[ca]&&(h[J-1]=ha,ca=t)}}r=r[I]=J;t=T[I];I=fa[I];if(0==c||0==r)for(u=
0;u<r;u++)G=h[u],v[u]=ba[u]=E(e,p,G);else{for(u=J=0;u<r;u++){for(G=h[u];h[u]>b[J]&&J!=z;)++J;c=J;0<J&&G-b[J-1]<b[J]-G&&(c=J-1);Math.abs(b[c]-G)<G*F&&D[Math.round(b[c])]>.1*A[Math.round(G)]?(ca=E(e,p,G),G=2*Math.PI/k*.5*(b[c]+G)*w,ha=ca-v[c]-G,c=v[c]+ba[c]+(ha-2*Math.PI*Math.round(ha/(2*Math.PI))+G)*C-ca,t[u]=ca,I[u]=c,N[u]=Math.cos(c),na[u]=Math.sin(c)):(t[u]=E(e,p,G),I[u]=0,N[u]=1,na[u]=0)}h[r]=2*k;c=0;C=h[c];D=h[c+1];z=N[c];b=na[c];for(r=1;r<e.length-1;r++)r>=C&&r-C>D-r&&(++c,C=h[c],D=h[c+1],z=
N[c],b=na[c]),v=e[r]*b+p[r]*z,e[r]=e[r]*z-p[r]*b,p[r]=v}}function E(c,e,p){p=Math.floor(p);var h=1==p%2?-1:1;return Math.atan2(h*(e[p]-e[p+1]),h*(c[p]-c[p+1]))}g=g||{};var U=g.sampleRate||44100,K=g.R||12,V=g.i||1,F=Math.pow(2,50/1200)-1,k=1<<K,l=n(K),q=1<<K-2;q-=q%100;var x=a.a(k+q+5),d=a.a(k+q+5),w=q,m=q,W=a.a(k);for(g=0;g<k;g++)W[g]=.5*(1-Math.cos(2*Math.PI*g/k));var B=(k>>1)+1,H=a.a(B),X=a.a(B),R=a.a(B),O=a.a(B),Y=a.a(B),Z=a.a(B);K=(B>>1)+1;var Q=[0,0],ea=[],T=[],fa=[],M=[];for(g=0;2>g;g++)ea.push(a.a(K)),
T.push(a.a(K)),fa.push(a.a(K)),M.push(a.a(B));var N=a.a(K),na=a.a(K),oa=0,aa=0,P=[{l:0,h:0,i:V}],pa=0,ja=0,ra=1,ka=0,qa=0,la={mapOutputToInputTime:function(c){for(var e=P.length-1;c<P[e].h&&0<e;)e--;e=P[e];return e.l+e.i*(c-e.h)},flush:function(c){ka=ja=pa=0;Q=[0,0];for(var e=0;2>e;e++)for(var p=0;p<B;p++)M[e][p]=0;for(e=0;e<x.length;e++)x[e]=0;for(e=0;e<d.length;e++)d[e]=0;if(c){aa=Math.max(0,aa-c);oa=la.mapOutputToInputTime(aa);for(c=P.length-1;aa<=P[c].h&&0<=c;)P.pop(),c--;P.push({l:oa,h:aa,i:V})}},
getTempo:function(){return V},setTempo:function(c){w=m=q;1<=c?m=Math.round(w/c):w=Math.round(m*c);qa=(1/c-1*m/w)*w;for(var e=W.length/m|0,p=0,h=0;h<e;h++)p+=W[h*m];ra=.9/p;V=c;e=P[P.length-1];e.h==aa?e.i=c:P.push({l:oa,h:aa,i:c})}};la.flush(0);la.setTempo(V);var da=0,ia=0;la.process=function(c){var e=c[0],p=c[0].length;if(1<c.length){e=a.a(c[0].length);for(var h=1/c.length,D=0;D<c.length;D++)for(var C=0;C<p;C++)e[C]+=h*c[D][C]}h=2*Math.floor(Math.max(0,da+p-(k-w))/(2*w));D=ia+m*h+Math.floor(ka+qa*
h);ia>D&&(D=ia);h=a.a(D);a.f(d,0,h,0,ia);C=0;for(var I=ia,z=0,b=0;;){var v=k+w-da;if(C+v>p){a.f(e,C,x,da,p-C);da+=p-C;break}else 0>=v?da-=2*w:(a.f(e,C,x,da,v),C+=v,da=k-w);ka+=2*qa;z=ka|0;ka-=z;for(b=0;b<k;b++)l.c[b]=W[b]*x[b],l.b[b]=W[b]*x[w+b];a.f(x,2*w,x,0,k-w);l.o(!1);l.H(H,X,R,O);f(pa,H,X,Y,Z,1*m/w);f(pa+1,R,O,H,X,1*(m+z)/w);a.f(R,0,Y,0,B);a.f(O,0,Z,0,B);l.G(H,X,R,O);l.o(!0);v=d.length;a.f(d,ja,d,0,v-ja);for(b=v-ja;b<v;b++)d[b]=0;v=0;var ba=ra;for(b=0;b<m;b++)Math.abs(2*l.c[b])>v&&(v=Math.abs(2*
l.c[b]));for(b=0;b<k-m;b++)Math.abs(l.c[b+m+z]+l.b[b])>v&&(v=Math.abs(l.c[b+m+z]+l.b[b]));for(b=k-m;b<k;b++)Math.abs(2*l.b[b])>v&&(v=Math.abs(2*l.b[b]));b=1/Math.floor(k/(2*m));ba*v>b&&(ba=b/v);for(b=0;b<k;b++)d[b]+=ba*l.c[b],d[b+m+z]+=ba*l.b[b];pa+=2;b=ja=2*m+z;oa+=2*w/U;aa+=b/U;z=I+b-D;0>z&&(z=0);a.f(d,0,h,I,b-z);I+=b}a.f(d,b-z,d,0,z);ia=z;e=[];for(D=0;D<c.length;D++)e.push(h);return e};return la}})()},function(S,y,L){var a=L(0);S.g=function(n){for(var g=1<<n,f={j:n,D:g,F:1/g,c:a.a(g),b:a.a(g),
s:Array(g)},E=0;E<g;E++){for(var U=E,K=0,V=0;V<n;V++)K<<=1,K|=U&1,U>>=1;f.s[E]=K}f.v=a.a(f.j);f.u=a.a(f.j);n=1;for(E=0;E<f.j;E++)U=2*n*Math.PI*f.F,f.v[E]=Math.cos(U),f.u[E]=Math.sin(U),n<<=1;f.o=function(k){var l=f.c,q=f.b,x=f.D,d=f.j,w=x>>1,m=x>>1,W=x;if(k)for(var B=1/x,H=0;H<x;H++)l[H]*=B,q[H]*=B;for(B=0;B<d;B++){H=f.v[B];var X=f.u[B];k||(X*=-1);for(var R=0;R<x;){for(var O=R,Y=R+m,Z=1,Q=0,ea=0;ea<w;ea++){var T=l[O],fa=q[O],M=l[Y],N=q[Y];l[O]=T+M;q[O]=fa+N;M=T-M;N=fa-N;l[Y]=M*Z-N*Q;q[Y]=M*Q+N*Z;
O++;Y++;T=Z;Z=Z*H-Q*X;Q=T*X+Q*H}R+=W}w>>=1;m>>=1;W>>=1}w=f.s;for(m=0;m<x;m++)w[m]>m&&(k=w[m],d=l[k],l[k]=l[m],l[m]=d,d=q[k],q[k]=q[m],q[m]=d)};var F=g>>1;f.H=function(k,l,q,x){k[0]=f.c[0];q[0]=f.b[0];l[0]=x[0]=0;k[F]=f.c[F];q[F]=f.b[F];l[F]=x[F]=0;for(var d=1;d<F;d++)k[d]=(f.c[d]+f.c[g-d])/2,l[d]=(f.b[d]-f.b[g-d])/2,q[d]=(f.b[d]+f.b[g-d])/2,x[d]=(-f.c[d]+f.c[g-d])/2};f.G=function(k,l,q,x){f.c[0]=k[0];f.b[0]=q[0];f.c[F]=k[F];f.b[F]=q[F];for(var d=1;d<F;d++)f.c[d]=k[d]-x[d],f.b[d]=l[d]+q[d],f.c[g-d]=
k[d]+x[d],f.b[g-d]=-l[d]+q[d]};return f}}])}"object"===typeof exports&&"object"===typeof module?module.g=sa():"function"===typeof define&&define.I?define([],sa):"object"===typeof exports?exports.PhaseVocoder=sa():ma.PhaseVocoder=sa();}).call(this || window)

//# sourceMappingURL=PhaseVocoder.min.js.map