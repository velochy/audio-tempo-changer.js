(function(){'use strict';var fa=window;
function la(){return function(R){function y(b){if(G[b])return G[b].g;var m=G[b]={J:b,w:!1,g:{}};R[b].call(m.g,m,m.g,y);m.w=!0;return m.g}var G={};y.L=R;y.G=G;y.i=function(b,m,g){y.v(b,m)||Object.defineProperty(b,m,{enumerable:!0,get:g})};y.u=function(b){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"});Object.defineProperty(b,"__esModule",{value:!0})};y.K=function(b,m){m&1&&(b=y(b));if(m&8)return b;if(m&4&&"object"===typeof b&&b&&b.s)return b;
var g=Object.create(null);y.u(g);Object.defineProperty(g,"default",{enumerable:!0,value:b});if(m&2&&"string"!=typeof b)for(var e in b)y.i(g,e,function(C){return b[C]}.bind(null,e));return g};y.H=function(b){var m=b&&b.s?function(){return b["default"]}:function(){return b};y.i(m,"a",m);return m};y.v=function(b,m){return Object.prototype.hasOwnProperty.call(b,m)};y.I="";return y(y.M=1)}([function(R){R.g={a:function(y){return new Float32Array(y)},f:function(y,G,b,m,g){b.set(y.subarray(G,G+g),m)}}},function(R,
y,G){var b=G(0),m=G(2);R.g=function(g,e){function C(d,v,q,p,S,W){var E=d%2;p=1-E;S=X[p];for(var O=N[p],A=P[p],K=ba[p],x=T[p],a=X[E],f=1;f<a.length;f++)a[f]=v[f]*v[f]+q[f]*q[f];p=P[E];f=N;for(var k=0,t=0;t<a.length;t++)a[t]>k&&(k=a[t]);k=1E-8*k;var F=1,Y=1;p[0]=1;for(t=2;t<a.length;t++){var B=t*ca;if(a[t]>k&&a[t]>a[t-1]&&a[t]>=a[t+1]){var da=t+(a[t-1]-a[t+1])/(2*(a[t-1]-2*a[t]+a[t+1]));da-p[F-1]>B?(p[F++]=da,Y=t):a[t]>a[Y]&&(p[F-1]=da,Y=t)}}f=f[E]=F;t=ba[E];E=T[E];if(0==d||0==f)for(k=0;k<f;k++)B=p[k],
K[k]=x[k]=Q(v,q,B);else{for(k=F=0;k<f;k++){for(B=p[k];p[k]>A[F]&&F!=O;)++F;d=F;0<F&&B-A[F-1]<A[F]-B&&(d=F-1);Math.abs(A[d]-B)<B*ca&&S[Math.round(A[d])]>.1*a[Math.round(B)]?(Y=Q(v,q,B),B=2*Math.PI/z*.5*(A[d]+B)*h,da=Y-K[d]-B,d=K[d]+x[d]+(da-2*Math.PI*Math.round(da/(2*Math.PI))+B)*W-Y,t[k]=Y,E[k]=d,L[k]=Math.cos(d),M[k]=Math.sin(d)):(t[k]=Q(v,q,B),E[k]=0,L[k]=1,M[k]=0)}p[f]=2*z;d=0;W=p[d];S=p[d+1];O=L[d];A=M[d];for(f=1;f<v.length-1;f++)f>=W&&f-W>S-f&&(++d,W=p[d],S=p[d+1],O=L[d],A=M[d]),K=v[f]*A+q[f]*
O,v[f]=v[f]*O-q[f]*A,q[f]=K}}function Q(d,v,q){q=Math.floor(q);var p=1==q%2?-1:1;return Math.atan2(p*(v[q]-v[q+1]),p*(d[q]-d[q+1]))}g||(g=12);e||(e=1);var ca=Math.pow(2,50/1200)-1,z=1<<g,n=m(g),u=1<<g-2;u-=u%100;var r=b.a(z+u+5),l=b.a(z+u+5),h=u,c=u,I=b.a(z);for(g=0;g<z;g++)I[g]=.5*(1-Math.cos(2*Math.PI*g/z));var w=(z>>1)+1,Z=b.a(w),H=b.a(w),D=b.a(w),U=b.a(w),aa=b.a(w),V=b.a(w),J=(w>>1)+1,N=[0,0],P=[],ba=[],T=[],X=[];for(g=0;2>g;g++)P.push(b.a(J)),ba.push(b.a(J)),T.push(b.a(J)),X.push(b.a(w));var L=
b.a(J),M=b.a(J),ha=0,ea=0,ia=0,ja=0,ka=1;g={resetBuffers:function(){ia=ea=ha=0;N=[0,0];for(var d=0;2>d;d++)for(var v=0;v<w;v++)X[d][v]=0;for(d=0;d<r.length;d++)r[d]=0;for(d=0;d<l.length;d++)l[d]=0},changeTempo:function(d){h=c=u;1<=d?c=Math.round(h/d):h=Math.round(c*d);ja=(1/d-1*c/h)*h;d=I.length/c|0;for(var v=0,q=0;q<d;q++)v+=I[q*c];ka=.9/v}};g.resetBuffers();g.changeTempo(e);g.stretch_filter=function(d){var v=0,q=0,p=b.a(2*u+5),S=Math.ceil((z-h)/(2*h));return function(W){return function(E,O,A){if(q>=
A)return b.f(p,0,E,O,A),b.f(p,A,p,0,q),A;b.f(p,0,E,O,q);for(var K=q,x=0,a=0;;){var f=z+h-v;if(0<=f){var k=W(r,v,f);if(k<f)if(0==S)break;else{for(x=k-h;x<h;x++)r[z+x]=0;--S}v=z-h}else v-=2*h;ia+=2*ja;x=ia|0;ia-=x;for(a=0;a<z;a++)n.c[a]=I[a]*r[a],n.b[a]=I[a]*r[h+a];b.f(r,2*h,r,0,z-h);n.j(!1);n.D(Z,H,D,U);C(ha,Z,H,aa,V,1*c/h);C(ha+1,D,U,Z,H,1*(c+x)/h);b.f(D,0,aa,0,w);b.f(U,0,V,0,w);n.C(Z,H,D,U);n.j(!0);f=l.length;b.f(l,ea,l,0,f-ea);for(a=f-ea;a<f;a++)l[a]=0;f=0;k=ka;for(a=0;a<c;a++)Math.abs(2*n.c[a])>
f&&(f=Math.abs(2*n.c[a]));for(a=0;a<z-c;a++)Math.abs(n.c[a+c+x]+n.b[a])>f&&(f=Math.abs(n.c[a+c+x]+n.b[a]));for(a=z-c;a<z;a++)Math.abs(2*n.b[a])>f&&(f=Math.abs(2*n.b[a]));a=1/Math.floor(z/(2*c));k*f>a&&(k=a/f);for(a=0;a<z;a++)l[a]+=k*n.c[a],l[a+c+x]+=k*n.b[a];ha+=2;a=ea=2*c+x;x=K+a-A;0>x&&(x=0);b.f(l,0,E,O+K,a-x);K+=a;if(0<x||d)break}b.f(l,a-x,p,0,x);q=x;return K}}};return g}},function(R,y,G){var b=G(0);R.g=function(m){for(var g=1<<m,e={h:m,A:g,B:1/g,c:b.a(g),b:b.a(g),l:Array(g)},C=0;C<g;C++){for(var Q=
C,ca=0,z=0;z<m;z++)ca<<=1,ca|=Q&1,Q>>=1;e.l[C]=ca}e.o=b.a(e.h);e.m=b.a(e.h);m=1;for(C=0;C<e.h;C++)Q=2*m*Math.PI*e.B,e.o[C]=Math.cos(Q),e.m[C]=Math.sin(Q),m<<=1;e.j=function(u){var r=e.c,l=e.b,h=e.A,c=e.h,I=h>>1,w=h>>1,Z=h;if(u)for(var H=1/h,D=0;D<h;D++)r[D]*=H,l[D]*=H;for(H=0;H<c;H++){D=e.o[H];var U=e.m[H];u||(U*=-1);for(var aa=0;aa<h;){for(var V=aa,J=aa+w,N=1,P=0,ba=0;ba<I;ba++){var T=r[V],X=l[V],L=r[J],M=l[J];r[V]=T+L;l[V]=X+M;L=T-L;M=X-M;r[J]=L*N-M*P;l[J]=L*P+M*N;V++;J++;T=N;N=N*D-P*U;P=T*U+P*
D}aa+=Z}I>>=1;w>>=1;Z>>=1}I=e.l;for(w=0;w<h;w++)I[w]>w&&(u=I[w],c=r[u],r[u]=r[w],r[w]=c,c=l[u],l[u]=l[w],l[w]=c)};var n=g>>1;e.D=function(u,r,l,h){u[0]=e.c[0];l[0]=e.b[0];r[0]=h[0]=0;u[n]=e.c[n];l[n]=e.b[n];r[n]=h[n]=0;for(var c=1;c<n;c++)u[c]=(e.c[c]+e.c[g-c])/2,r[c]=(e.b[c]-e.b[g-c])/2,l[c]=(e.b[c]+e.b[g-c])/2,h[c]=(-e.c[c]+e.c[g-c])/2};e.C=function(u,r,l,h){e.c[0]=u[0];e.b[0]=l[0];e.c[n]=u[n];e.b[n]=l[n];for(var c=1;c<n;c++)e.c[c]=u[c]-h[c],e.b[c]=r[c]+l[c],e.c[g-c]=u[c]+h[c],e.b[g-c]=-r[c]+l[c]};
return e}}])}"object"===typeof exports&&"object"===typeof module?module.g=la():"function"===typeof define&&define.F?define([],la):"object"===typeof exports?exports.PhaseVocoder=la():fa.PhaseVocoder=la();}).call(this || window)

//# sourceMappingURL=PhaseVocoder.min.js.map